"use strict";var mainModule=angular.module("wizbif.main",["wizbif.alert","wizbif.database"]);mainModule.constant("authSets",{reviewer:{key:"statusID",values:["0","1","2","4","5"]},member:{key:"statusID",values:["0","1","2","4"]},seniorStaff:{key:"positionID",values:["0","1","2","3","4","5","6","7","8"]},musicDirector:{key:"positionID",values:["0","1","2","3","8","13","14","17","18","19","20"]}}),mainModule.controller("MainCtrl",["$scope","alert","db","authSets",function(e,t,a,i){e.positions=a.getDefs("positions"),e.user={},e.auth={},e.alert=t;var s=function(){a.User.get().then(function(t){e.user=t,e.auth=_.mapValues(i,function(e){return e.values.indexOf(t[e.key])!==-1})},function(){e.user=null})};s()}]);