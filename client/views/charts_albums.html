<h1>Weekly Charts</h1>
<p><em>Charting lists albums in rotation that are played by DJs (not Automation).</em></p>

<hr>

<div class="container-fluid">
	<ul class="nav nav-pills nav-justified">
		<li class="active">
			<a ui-sref="charts-albums">Albums</a>
		</li>
		<li>
			<a ui-sref="charts-tracks">Tracks</a>
		</li>
	</ul>

	<h3 class="text-center">{{date1 | date:'EEEE MM/dd'}} - {{date2 | date:'EEE MM/dd'}}</h3>


	<div class="row">
		<div class="col-md-5">
			<select class="form-control" ng-model="general_genreID" ng-options="g.general_genreID as g.genre for g in general_genres" ng-change="getChart(date1, date2)">
				<option value="">All Genres</option>
			</select>
		</div>

		<div class="col-md-2">
			<select class="form-control" ng-model="count" ng-options="c for c in [10, 30, 50, 100]"></select>
		</div>

		<div class="col-md-5">
			<div class="pull-right">
				<button class="btn btn-sm" ng-click="getPrevWeek()">&larr; Prev Week</button>
				<button class="btn btn-sm" ng-click="getNextWeek()" ng-disabled="!hasNextWeek()">Next Week &rarr;</button>
				<button class="btn btn-sm" ng-click="getCurrWeek()">Current</button>
			</div>
		</div>
	</div>

	<table class="table">
		<thead>
			<th>Rank</th>
			<th>Plays</th>
			<th>Artist</th>
			<th>Album</th>
			<th>Label</th>
		</thead>

		<tbody>
			<tr ng-repeat="a in albums | limitTo:count">
				<td>{{$index + 1}}</td>
				<td>{{a.count}}</td>
				<td>{{a.lb_artist}}</td>
				<td>{{a.lb_album}}</td>
				<td>{{a.lb_label}}</td>
			</tr>
		</tbody>
	</table>
</div>
